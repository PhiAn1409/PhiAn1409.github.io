---
const currentPath = Astro.url.pathname;
const baseUrl = import.meta.env.BASE_URL;
---

<header
	class="sticky top-0 z-50 bg-white/95 backdrop-blur-md shadow-md border-b border-gray-200"
>
	<nav class="container mx-auto px-4 py-4">
		<div class="flex items-center justify-between">
			<a
				href={baseUrl}
				class="text-2xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent"
			>
				Truong Phi An
			</a>

			<div class="hidden md:flex items-center gap-6">
				<a
					href={baseUrl}
					class:list={[
						"hover:text-primary transition-colors",
						currentPath === baseUrl || currentPath === baseUrl.slice(0, -1) ? "text-primary font-semibold" : "",
					]}
				>
					Home
				</a>
				<a
					href={`${baseUrl}about`}
					class:list={[
						"hover:text-primary transition-colors",
						currentPath.includes("/about")
							? "text-primary font-semibold"
							: "",
					]}
				>
					About
				</a>
				<a
					href={`${baseUrl}projects`}
					class:list={[
						"hover:text-primary transition-colors",
						currentPath.includes("/projects")
							? "text-primary font-semibold"
							: "",
					]}
				>
					Projects
				</a>
				<a
					href={`${baseUrl}blog`}
					class:list={[
						"hover:text-primary transition-colors",
						currentPath.includes("/blog")
							? "text-primary font-semibold"
							: "",
					]}
				>
					Blog
				</a>
				<a
					href={`${baseUrl}contact`}
					class:list={[
						"hover:text-primary transition-colors",
						currentPath.includes("/contact")
							? "text-primary font-semibold"
							: "",
					]}
				>
					Contact
				</a>
			</div>

			<button id="mobile-menu-btn" class="md:hidden text-2xl">
				â˜°
			</button>
		</div>

		<!-- Mobile Menu -->
		<div id="mobile-menu" class="hidden md:hidden flex-col gap-4 mt-4">
			<a href={baseUrl} class="block hover:text-primary transition-colors"
				>Home</a
			>
			<a href={`${baseUrl}about`} class="block hover:text-primary transition-colors"
				>About</a
			>
			<a
				href={`${baseUrl}projects`}
				class="block hover:text-primary transition-colors">Projects</a
			>
			<a href={`${baseUrl}blog`} class="block hover:text-primary transition-colors"
				>Blog</a
			>
			<a
				href={`${baseUrl}contact`}
				class="block hover:text-primary transition-colors">Contact</a
			>
		</div>
	</nav>
</header>

<script>
	const mobileMenuBtn = document.getElementById("mobile-menu-btn");
	const mobileMenu = document.getElementById("mobile-menu");

	mobileMenuBtn?.addEventListener("click", () => {
		mobileMenu?.classList.toggle("hidden");
		mobileMenu?.classList.toggle("flex");
	});
</script>
